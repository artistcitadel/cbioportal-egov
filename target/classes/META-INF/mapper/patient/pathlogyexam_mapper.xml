<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC
        "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">


<mapper namespace="patient">
    <select id="selectPathHrc" resultType="com.softcen.bigcen.med.patient.vo.Patient">
      SELECT
      'PATHOLOGY_EXAM' subject,
      GENE_EXAM_MTH_NM id,
      GENE_EXAM_MTH_NM name
      from PMGEMEMTH
      WHERE LENGTH(GENE_EXAM_MTH_NM)>0 GROUP BY GENE_EXAM_MTH_NM
    </select>
    <select id="selectPathList" resultType="com.softcen.bigcen.med.patient.vo.Patient">
      SELECT DISTINCT
       'PATHOLOGY_EXAM' subject,
       b.GENE_EXAM_MTH_NM pid,
       b.EXAM_CD id,
       b.EXAM_ENG_NM name,
       a.ORDR_DIRECT_DT time
       from pmsdev.OOODMEXAM a join pmsdev.PMGEMEMTH b on a.ORDR_CD = b.EXAM_CD
       WHERE b.GENE_EXAM_MTH_NM != ''
       AND a.RESCH_PAT_ID = #{patientId}
        <if test="inParam != null and inParam != ''">
            AND b.GENE_EXAM_MTH_NM IN( #{inParam} )
        </if>
       /*limit 300*/
    </select>
</mapper>